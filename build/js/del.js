'use strict';

$(document).ready(function () {
    $('.js-item-select-control--plus').on('click', function (e) {
        var select = $(this).closest('.js-item-select');
        var input = select.find('.item-select__input');
        var value = select.find('.item-select__value');
        var curentVal = parseInt(input.val());
        var count = parseInt(input.val()) + 1 + ' ' + 'м';

        input.removeAttr('style').val(count);

        if (curentVal > 0) {
            input.change();
        } else {
            input.val(1 + 'м');
        }

        value.children('.item-select__title').css('display', 'none');
        e.stopPropagation();
    });

    $('.js-item-select-control--minus').on('click', function () {
        var select = $(this).closest('.js-item-select');
        var input = select.find('.item-select__input');
        var value = select.find('.item-select__value');
        var curentVal = parseInt(input.val());
        var count = parseInt(input.val()) - 1 + ' ' + 'м';

        if (curentVal > 1) {
            count = count < 1 ? 1 : count;
            input.val(count);
            input.change();
            select.removeClass('is-close');
        } else {
            value.children('.item-select__title').removeAttr('style');
            input.css('display', 'none');
            select.removeClass('is-active');
        }
        return false;
    });

    //Search Hint
    if ($('.js-search-input').length > 0) {
        var $searchInput = $('.js-search-input');
        $searchInput.on('keyup', function () {
            var $hint = $(this).closest('.js-search').find('.search__hint');
            if ($(this).val() !== '') {
                $hint.show();
            } else {
                $hint.hide();
            }
        });
    }

    //Card Adress Map
    if ($('#contacts-map').length > 0) {
        var init = function init() {
            myMap = new ymaps.Map('contacts-map', {
                center: [55.73226853, 37.6209191],
                zoom: 16
            });

            myMap.behaviors.disable(['scrollZoom']);

            myMap.controls.remove('searchControl').remove('typeSelector').add('routeEditor');

            myPin = new ymaps.GeoObjectCollection({}, {
                iconLayout: 'default#image',
                iconImageHref: 'img/general/map-pin.svg',
                iconImageSize: [30, 42],
                iconImageOffset: [-3, -42]
            });

            myPlacemark = new ymaps.Placemark([55.73226853, 37.6209191], {
                balloonContentHeader: '<span class="map-pin__title">BAZAAR-TEX</span>',
                balloonContentBody: '<span class="map-pin__place">ул. Большая Полянка, 51А/9, Московский р-н</span>'
            });

            myPin.add(myPlacemark);
            myMap.geoObjects.add(myPin);
        };

        ymaps.ready(init);
        var myMap, myPlacemark, myPin;
    }

    //Price Slider
    if ($('.js-catalog-filter-item-price').length > 0) {
        var slider = document.getElementById('js-catalog-filter-slider');
        var allPriceStart = $('#js-catalog-filter-slider').data('start');
        var allPriceEnd = $('#js-catalog-filter-slider').data('end');
        var spans = [$('#jsPriceStart'), $('#jsPriceEnd')];
        var startPrice;
        var endPrice;

        if (spans[0].text() == '') {
            startPrice = allPriceStart;
        } else {
            startPrice = parseInt(spans[0].text());
        }

        if (spans[1].text() == '') {
            endPrice = allPriceEnd;
        } else {
            endPrice = parseInt(spans[1].text());
        }

        noUiSlider.create(slider, {
            start: [startPrice, endPrice],
            connect: true,
            range: {
                min: allPriceStart,
                max: allPriceEnd
            }
        });
        slider.noUiSlider.on('update', function (values, handle) {
            spans[handle].text(values[handle]);
        });
    }
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlbC5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsIm9uIiwiZSIsInNlbGVjdCIsImNsb3Nlc3QiLCJpbnB1dCIsImZpbmQiLCJ2YWx1ZSIsImN1cmVudFZhbCIsInBhcnNlSW50IiwidmFsIiwiY291bnQiLCJyZW1vdmVBdHRyIiwiY2hhbmdlIiwiY2hpbGRyZW4iLCJjc3MiLCJzdG9wUHJvcGFnYXRpb24iLCJyZW1vdmVDbGFzcyIsImxlbmd0aCIsIiRzZWFyY2hJbnB1dCIsIiRoaW50Iiwic2hvdyIsImhpZGUiLCJpbml0IiwibXlNYXAiLCJ5bWFwcyIsIk1hcCIsImNlbnRlciIsInpvb20iLCJiZWhhdmlvcnMiLCJkaXNhYmxlIiwiY29udHJvbHMiLCJyZW1vdmUiLCJhZGQiLCJteVBpbiIsIkdlb09iamVjdENvbGxlY3Rpb24iLCJpY29uTGF5b3V0IiwiaWNvbkltYWdlSHJlZiIsImljb25JbWFnZVNpemUiLCJpY29uSW1hZ2VPZmZzZXQiLCJteVBsYWNlbWFyayIsIlBsYWNlbWFyayIsImJhbGxvb25Db250ZW50SGVhZGVyIiwiYmFsbG9vbkNvbnRlbnRCb2R5IiwiZ2VvT2JqZWN0cyIsInNsaWRlciIsImdldEVsZW1lbnRCeUlkIiwiYWxsUHJpY2VTdGFydCIsImRhdGEiLCJhbGxQcmljZUVuZCIsInNwYW5zIiwic3RhcnRQcmljZSIsImVuZFByaWNlIiwidGV4dCIsIm5vVWlTbGlkZXIiLCJjcmVhdGUiLCJzdGFydCIsImNvbm5lY3QiLCJyYW5nZSIsIm1pbiIsIm1heCIsInZhbHVlcyIsImhhbmRsZSJdLCJtYXBwaW5ncyI6Ijs7QUFBQUEsRUFBRUMsUUFBRixFQUFZQyxLQUFaLENBQWtCLFlBQVc7QUFDekJGLE1BQUUsK0JBQUYsRUFBbUNHLEVBQW5DLENBQXNDLE9BQXRDLEVBQStDLFVBQVNDLENBQVQsRUFBWTtBQUN2RCxZQUFJQyxTQUFTTCxFQUFFLElBQUYsRUFBUU0sT0FBUixDQUFnQixpQkFBaEIsQ0FBYjtBQUNBLFlBQUlDLFFBQVFGLE9BQU9HLElBQVAsQ0FBWSxxQkFBWixDQUFaO0FBQ0EsWUFBSUMsUUFBUUosT0FBT0csSUFBUCxDQUFZLHFCQUFaLENBQVo7QUFDQSxZQUFJRSxZQUFZQyxTQUFTSixNQUFNSyxHQUFOLEVBQVQsQ0FBaEI7QUFDQSxZQUFJQyxRQUFRRixTQUFTSixNQUFNSyxHQUFOLEVBQVQsSUFBd0IsQ0FBeEIsR0FBNEIsR0FBNUIsR0FBa0MsR0FBOUM7O0FBRUFMLGNBQU1PLFVBQU4sQ0FBaUIsT0FBakIsRUFBMEJGLEdBQTFCLENBQThCQyxLQUE5Qjs7QUFFQSxZQUFJSCxZQUFZLENBQWhCLEVBQW1CO0FBQ2ZILGtCQUFNUSxNQUFOO0FBQ0gsU0FGRCxNQUVPO0FBQ0hSLGtCQUFNSyxHQUFOLENBQVUsSUFBSSxHQUFkO0FBQ0g7O0FBRURILGNBQU1PLFFBQU4sQ0FBZSxxQkFBZixFQUFzQ0MsR0FBdEMsQ0FBMEMsU0FBMUMsRUFBcUQsTUFBckQ7QUFDQWIsVUFBRWMsZUFBRjtBQUNILEtBakJEOztBQW1CQWxCLE1BQUUsZ0NBQUYsRUFBb0NHLEVBQXBDLENBQXVDLE9BQXZDLEVBQWdELFlBQVc7QUFDdkQsWUFBSUUsU0FBU0wsRUFBRSxJQUFGLEVBQVFNLE9BQVIsQ0FBZ0IsaUJBQWhCLENBQWI7QUFDQSxZQUFJQyxRQUFRRixPQUFPRyxJQUFQLENBQVkscUJBQVosQ0FBWjtBQUNBLFlBQUlDLFFBQVFKLE9BQU9HLElBQVAsQ0FBWSxxQkFBWixDQUFaO0FBQ0EsWUFBSUUsWUFBWUMsU0FBU0osTUFBTUssR0FBTixFQUFULENBQWhCO0FBQ0EsWUFBSUMsUUFBUUYsU0FBU0osTUFBTUssR0FBTixFQUFULElBQXdCLENBQXhCLEdBQTRCLEdBQTVCLEdBQWtDLEdBQTlDOztBQUVBLFlBQUlGLFlBQVksQ0FBaEIsRUFBbUI7QUFDZkcsb0JBQVFBLFFBQVEsQ0FBUixHQUFZLENBQVosR0FBZ0JBLEtBQXhCO0FBQ0FOLGtCQUFNSyxHQUFOLENBQVVDLEtBQVY7QUFDQU4sa0JBQU1RLE1BQU47QUFDQVYsbUJBQU9jLFdBQVAsQ0FBbUIsVUFBbkI7QUFDSCxTQUxELE1BS087QUFDSFYsa0JBQU1PLFFBQU4sQ0FBZSxxQkFBZixFQUFzQ0YsVUFBdEMsQ0FBaUQsT0FBakQ7QUFDQVAsa0JBQU1VLEdBQU4sQ0FBVSxTQUFWLEVBQXFCLE1BQXJCO0FBQ0FaLG1CQUFPYyxXQUFQLENBQW1CLFdBQW5CO0FBQ0g7QUFDRCxlQUFPLEtBQVA7QUFDSCxLQWxCRDs7QUFvQkE7QUFDQSxRQUFJbkIsRUFBRSxrQkFBRixFQUFzQm9CLE1BQXRCLEdBQStCLENBQW5DLEVBQXNDO0FBQ2xDLFlBQUlDLGVBQWVyQixFQUFFLGtCQUFGLENBQW5CO0FBQ0FxQixxQkFBYWxCLEVBQWIsQ0FBZ0IsT0FBaEIsRUFBeUIsWUFBVztBQUNoQyxnQkFBSW1CLFFBQVF0QixFQUFFLElBQUYsRUFDUE0sT0FETyxDQUNDLFlBREQsRUFFUEUsSUFGTyxDQUVGLGVBRkUsQ0FBWjtBQUdBLGdCQUFJUixFQUFFLElBQUYsRUFBUVksR0FBUixPQUFrQixFQUF0QixFQUEwQjtBQUN0QlUsc0JBQU1DLElBQU47QUFDSCxhQUZELE1BRU87QUFDSEQsc0JBQU1FLElBQU47QUFDSDtBQUNKLFNBVEQ7QUFVSDs7QUFFRDtBQUNBLFFBQUl4QixFQUFFLGVBQUYsRUFBbUJvQixNQUFuQixHQUE0QixDQUFoQyxFQUFtQztBQUFBLFlBSXRCSyxJQUpzQixHQUkvQixTQUFTQSxJQUFULEdBQWdCO0FBQ1pDLG9CQUFRLElBQUlDLE1BQU1DLEdBQVYsQ0FBYyxjQUFkLEVBQThCO0FBQ2xDQyx3QkFBUSxDQUFDLFdBQUQsRUFBYyxVQUFkLENBRDBCO0FBRWxDQyxzQkFBTTtBQUY0QixhQUE5QixDQUFSOztBQUtBSixrQkFBTUssU0FBTixDQUFnQkMsT0FBaEIsQ0FBd0IsQ0FBQyxZQUFELENBQXhCOztBQUVBTixrQkFBTU8sUUFBTixDQUNLQyxNQURMLENBQ1ksZUFEWixFQUVLQSxNQUZMLENBRVksY0FGWixFQUdLQyxHQUhMLENBR1MsYUFIVDs7QUFLQUMsb0JBQVEsSUFBSVQsTUFBTVUsbUJBQVYsQ0FDSixFQURJLEVBRUo7QUFDSUMsNEJBQVksZUFEaEI7QUFFSUMsK0JBQWUseUJBRm5CO0FBR0lDLCtCQUFlLENBQUMsRUFBRCxFQUFLLEVBQUwsQ0FIbkI7QUFJSUMsaUNBQWlCLENBQUMsQ0FBQyxDQUFGLEVBQUssQ0FBQyxFQUFOO0FBSnJCLGFBRkksQ0FBUjs7QUFVQUMsMEJBQWMsSUFBSWYsTUFBTWdCLFNBQVYsQ0FBb0IsQ0FBQyxXQUFELEVBQWMsVUFBZCxDQUFwQixFQUErQztBQUN6REMsc0NBQ0ksZ0RBRnFEO0FBR3pEQyxvQ0FDSTtBQUpxRCxhQUEvQyxDQUFkOztBQU9BVCxrQkFBTUQsR0FBTixDQUFVTyxXQUFWO0FBQ0FoQixrQkFBTW9CLFVBQU4sQ0FBaUJYLEdBQWpCLENBQXFCQyxLQUFyQjtBQUNILFNBcEM4Qjs7QUFDL0JULGNBQU16QixLQUFOLENBQVl1QixJQUFaO0FBQ0EsWUFBSUMsS0FBSixFQUFXZ0IsV0FBWCxFQUF3Qk4sS0FBeEI7QUFtQ0g7O0FBRUQ7QUFDQSxRQUFJcEMsRUFBRSwrQkFBRixFQUFtQ29CLE1BQW5DLEdBQTRDLENBQWhELEVBQW1EO0FBQy9DLFlBQUkyQixTQUFTOUMsU0FBUytDLGNBQVQsQ0FBd0IsMEJBQXhCLENBQWI7QUFDQSxZQUFJQyxnQkFBZ0JqRCxFQUFFLDJCQUFGLEVBQStCa0QsSUFBL0IsQ0FBb0MsT0FBcEMsQ0FBcEI7QUFDQSxZQUFJQyxjQUFjbkQsRUFBRSwyQkFBRixFQUErQmtELElBQS9CLENBQW9DLEtBQXBDLENBQWxCO0FBQ0EsWUFBSUUsUUFBUSxDQUFDcEQsRUFBRSxlQUFGLENBQUQsRUFBcUJBLEVBQUUsYUFBRixDQUFyQixDQUFaO0FBQ0EsWUFBSXFELFVBQUo7QUFDQSxZQUFJQyxRQUFKOztBQUVBLFlBQUlGLE1BQU0sQ0FBTixFQUFTRyxJQUFULE1BQW1CLEVBQXZCLEVBQTJCO0FBQ3ZCRix5QkFBYUosYUFBYjtBQUNILFNBRkQsTUFFTztBQUNISSx5QkFBYTFDLFNBQVN5QyxNQUFNLENBQU4sRUFBU0csSUFBVCxFQUFULENBQWI7QUFDSDs7QUFFRCxZQUFJSCxNQUFNLENBQU4sRUFBU0csSUFBVCxNQUFtQixFQUF2QixFQUEyQjtBQUN2QkQsdUJBQVdILFdBQVg7QUFDSCxTQUZELE1BRU87QUFDSEcsdUJBQVczQyxTQUFTeUMsTUFBTSxDQUFOLEVBQVNHLElBQVQsRUFBVCxDQUFYO0FBQ0g7O0FBRURDLG1CQUFXQyxNQUFYLENBQWtCVixNQUFsQixFQUEwQjtBQUN0QlcsbUJBQU8sQ0FBQ0wsVUFBRCxFQUFhQyxRQUFiLENBRGU7QUFFdEJLLHFCQUFTLElBRmE7QUFHdEJDLG1CQUFPO0FBQ0hDLHFCQUFLWixhQURGO0FBRUhhLHFCQUFLWDtBQUZGO0FBSGUsU0FBMUI7QUFRQUosZUFBT1MsVUFBUCxDQUFrQnJELEVBQWxCLENBQXFCLFFBQXJCLEVBQStCLFVBQVM0RCxNQUFULEVBQWlCQyxNQUFqQixFQUF5QjtBQUNwRFosa0JBQU1ZLE1BQU4sRUFBY1QsSUFBZCxDQUFtQlEsT0FBT0MsTUFBUCxDQUFuQjtBQUNILFNBRkQ7QUFHSDtBQUNKLENBaElEIiwiZmlsZSI6ImRlbC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICQoJy5qcy1pdGVtLXNlbGVjdC1jb250cm9sLS1wbHVzJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBsZXQgc2VsZWN0ID0gJCh0aGlzKS5jbG9zZXN0KCcuanMtaXRlbS1zZWxlY3QnKTtcbiAgICAgICAgbGV0IGlucHV0ID0gc2VsZWN0LmZpbmQoJy5pdGVtLXNlbGVjdF9faW5wdXQnKTtcbiAgICAgICAgbGV0IHZhbHVlID0gc2VsZWN0LmZpbmQoJy5pdGVtLXNlbGVjdF9fdmFsdWUnKTtcbiAgICAgICAgbGV0IGN1cmVudFZhbCA9IHBhcnNlSW50KGlucHV0LnZhbCgpKTtcbiAgICAgICAgbGV0IGNvdW50ID0gcGFyc2VJbnQoaW5wdXQudmFsKCkpICsgMSArICcgJyArICfQvCc7XG5cbiAgICAgICAgaW5wdXQucmVtb3ZlQXR0cignc3R5bGUnKS52YWwoY291bnQpO1xuXG4gICAgICAgIGlmIChjdXJlbnRWYWwgPiAwKSB7XG4gICAgICAgICAgICBpbnB1dC5jaGFuZ2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlucHV0LnZhbCgxICsgJ9C8Jyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YWx1ZS5jaGlsZHJlbignLml0ZW0tc2VsZWN0X190aXRsZScpLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG5cbiAgICAkKCcuanMtaXRlbS1zZWxlY3QtY29udHJvbC0tbWludXMnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgbGV0IHNlbGVjdCA9ICQodGhpcykuY2xvc2VzdCgnLmpzLWl0ZW0tc2VsZWN0Jyk7XG4gICAgICAgIGxldCBpbnB1dCA9IHNlbGVjdC5maW5kKCcuaXRlbS1zZWxlY3RfX2lucHV0Jyk7XG4gICAgICAgIGxldCB2YWx1ZSA9IHNlbGVjdC5maW5kKCcuaXRlbS1zZWxlY3RfX3ZhbHVlJyk7XG4gICAgICAgIGxldCBjdXJlbnRWYWwgPSBwYXJzZUludChpbnB1dC52YWwoKSk7XG4gICAgICAgIGxldCBjb3VudCA9IHBhcnNlSW50KGlucHV0LnZhbCgpKSAtIDEgKyAnICcgKyAn0LwnO1xuXG4gICAgICAgIGlmIChjdXJlbnRWYWwgPiAxKSB7XG4gICAgICAgICAgICBjb3VudCA9IGNvdW50IDwgMSA/IDEgOiBjb3VudDtcbiAgICAgICAgICAgIGlucHV0LnZhbChjb3VudCk7XG4gICAgICAgICAgICBpbnB1dC5jaGFuZ2UoKTtcbiAgICAgICAgICAgIHNlbGVjdC5yZW1vdmVDbGFzcygnaXMtY2xvc2UnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlLmNoaWxkcmVuKCcuaXRlbS1zZWxlY3RfX3RpdGxlJykucmVtb3ZlQXR0cignc3R5bGUnKTtcbiAgICAgICAgICAgIGlucHV0LmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgICAgICBzZWxlY3QucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcblxuICAgIC8vU2VhcmNoIEhpbnRcbiAgICBpZiAoJCgnLmpzLXNlYXJjaC1pbnB1dCcpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyICRzZWFyY2hJbnB1dCA9ICQoJy5qcy1zZWFyY2gtaW5wdXQnKTtcbiAgICAgICAgJHNlYXJjaElucHV0Lm9uKCdrZXl1cCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyICRoaW50ID0gJCh0aGlzKVxuICAgICAgICAgICAgICAgIC5jbG9zZXN0KCcuanMtc2VhcmNoJylcbiAgICAgICAgICAgICAgICAuZmluZCgnLnNlYXJjaF9faGludCcpO1xuICAgICAgICAgICAgaWYgKCQodGhpcykudmFsKCkgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgJGhpbnQuc2hvdygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkaGludC5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vQ2FyZCBBZHJlc3MgTWFwXG4gICAgaWYgKCQoJyNjb250YWN0cy1tYXAnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHltYXBzLnJlYWR5KGluaXQpO1xuICAgICAgICB2YXIgbXlNYXAsIG15UGxhY2VtYXJrLCBteVBpbjtcblxuICAgICAgICBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgICAgICAgbXlNYXAgPSBuZXcgeW1hcHMuTWFwKCdjb250YWN0cy1tYXAnLCB7XG4gICAgICAgICAgICAgICAgY2VudGVyOiBbNTUuNzMyMjY4NTMsIDM3LjYyMDkxOTFdLFxuICAgICAgICAgICAgICAgIHpvb206IDE2XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbXlNYXAuYmVoYXZpb3JzLmRpc2FibGUoWydzY3JvbGxab29tJ10pO1xuXG4gICAgICAgICAgICBteU1hcC5jb250cm9sc1xuICAgICAgICAgICAgICAgIC5yZW1vdmUoJ3NlYXJjaENvbnRyb2wnKVxuICAgICAgICAgICAgICAgIC5yZW1vdmUoJ3R5cGVTZWxlY3RvcicpXG4gICAgICAgICAgICAgICAgLmFkZCgncm91dGVFZGl0b3InKTtcblxuICAgICAgICAgICAgbXlQaW4gPSBuZXcgeW1hcHMuR2VvT2JqZWN0Q29sbGVjdGlvbihcbiAgICAgICAgICAgICAgICB7fSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGljb25MYXlvdXQ6ICdkZWZhdWx0I2ltYWdlJyxcbiAgICAgICAgICAgICAgICAgICAgaWNvbkltYWdlSHJlZjogJ2ltZy9nZW5lcmFsL21hcC1waW4uc3ZnJyxcbiAgICAgICAgICAgICAgICAgICAgaWNvbkltYWdlU2l6ZTogWzMwLCA0Ml0sXG4gICAgICAgICAgICAgICAgICAgIGljb25JbWFnZU9mZnNldDogWy0zLCAtNDJdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgbXlQbGFjZW1hcmsgPSBuZXcgeW1hcHMuUGxhY2VtYXJrKFs1NS43MzIyNjg1MywgMzcuNjIwOTE5MV0sIHtcbiAgICAgICAgICAgICAgICBiYWxsb29uQ29udGVudEhlYWRlcjpcbiAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwibWFwLXBpbl9fdGl0bGVcIj5CQVpBQVItVEVYPC9zcGFuPicsXG4gICAgICAgICAgICAgICAgYmFsbG9vbkNvbnRlbnRCb2R5OlxuICAgICAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJtYXAtcGluX19wbGFjZVwiPtGD0LsuINCR0L7Qu9GM0YjQsNGPINCf0L7Qu9GP0L3QutCwLCA1MdCQLzksINCc0L7RgdC60L7QstGB0LrQuNC5INGALdC9PC9zcGFuPidcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBteVBpbi5hZGQobXlQbGFjZW1hcmspO1xuICAgICAgICAgICAgbXlNYXAuZ2VvT2JqZWN0cy5hZGQobXlQaW4pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy9QcmljZSBTbGlkZXJcbiAgICBpZiAoJCgnLmpzLWNhdGFsb2ctZmlsdGVyLWl0ZW0tcHJpY2UnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBzbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnanMtY2F0YWxvZy1maWx0ZXItc2xpZGVyJyk7XG4gICAgICAgIHZhciBhbGxQcmljZVN0YXJ0ID0gJCgnI2pzLWNhdGFsb2ctZmlsdGVyLXNsaWRlcicpLmRhdGEoJ3N0YXJ0Jyk7XG4gICAgICAgIHZhciBhbGxQcmljZUVuZCA9ICQoJyNqcy1jYXRhbG9nLWZpbHRlci1zbGlkZXInKS5kYXRhKCdlbmQnKTtcbiAgICAgICAgdmFyIHNwYW5zID0gWyQoJyNqc1ByaWNlU3RhcnQnKSwgJCgnI2pzUHJpY2VFbmQnKV07XG4gICAgICAgIHZhciBzdGFydFByaWNlO1xuICAgICAgICB2YXIgZW5kUHJpY2U7XG5cbiAgICAgICAgaWYgKHNwYW5zWzBdLnRleHQoKSA9PSAnJykge1xuICAgICAgICAgICAgc3RhcnRQcmljZSA9IGFsbFByaWNlU3RhcnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGFydFByaWNlID0gcGFyc2VJbnQoc3BhbnNbMF0udGV4dCgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzcGFuc1sxXS50ZXh0KCkgPT0gJycpIHtcbiAgICAgICAgICAgIGVuZFByaWNlID0gYWxsUHJpY2VFbmQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbmRQcmljZSA9IHBhcnNlSW50KHNwYW5zWzFdLnRleHQoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBub1VpU2xpZGVyLmNyZWF0ZShzbGlkZXIsIHtcbiAgICAgICAgICAgIHN0YXJ0OiBbc3RhcnRQcmljZSwgZW5kUHJpY2VdLFxuICAgICAgICAgICAgY29ubmVjdDogdHJ1ZSxcbiAgICAgICAgICAgIHJhbmdlOiB7XG4gICAgICAgICAgICAgICAgbWluOiBhbGxQcmljZVN0YXJ0LFxuICAgICAgICAgICAgICAgIG1heDogYWxsUHJpY2VFbmRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHNsaWRlci5ub1VpU2xpZGVyLm9uKCd1cGRhdGUnLCBmdW5jdGlvbih2YWx1ZXMsIGhhbmRsZSkge1xuICAgICAgICAgICAgc3BhbnNbaGFuZGxlXS50ZXh0KHZhbHVlc1toYW5kbGVdKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG4iXX0=
